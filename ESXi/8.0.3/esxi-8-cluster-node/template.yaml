template:
  name: VCF Cluster Node
  label: esxi-8-cluster-node
  description: OS template for a VMware Cloud Foundation (VCF) cluster node, based on ESXi 8.0U3g-24280767
  visibility: public
  device:
    architecture: x86_64
    bootmode: uefi
    type: server
  imagebuild:
    required: true
  install:
    drivetype: local_drive
    method: "oob"
    readymethod: "wait_for_ssh"
  os:
    credential:
      password: "P@ssword123!"
      passwordtype: "plain"
      username: "root"
    name: "ESXi"
    sshport: 22
    version: "8.0.3"
  tags:
    - esxi-8-0-3-24280767
    - vcf-cluster-node
templateassets:
  - file:
      mimetype: "text/plain"
      name: "BOOT.CFG"
      path: "/EFI/BOOT/BOOT.CFG"
      templatingengine: true
    usage: "build_component"
  - file:
      mimetype: "text/plain"
      name: "ISOLINUX.CFG"
      path: "/ISOLINUX.CFG"
      templatingengine: true
    usage: "build_component"
  - file:
      mimetype: "text/plain"
      name: "KS.CFG"
      path: "/KS.CFG"
      templatingengine: true
    usage: "build_component"
  - file:
      mimetype: "application/octet-stream"
      name: "VMware-VMvisor-Installer-8.0U3b-24280767.x86_64.iso"
      path: "/VMware-VMvisor-Installer-8.0U3b-24280767.x86_64.iso"
      templatingengine: false
      url: "https://repo.metalsoft.io/.vmware/VMware-VMvisor-Installer-8.0U3b-24280767.x86_64.iso"
    usage: "build_source_image"
